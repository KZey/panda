<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <title>Panda</title>
    
    <style type="text/css" media="screen">
      #progress {
        border: 1px solid #009700;
        width: 200px;
        height: 20px;
      }

      #bar {
        width: 0%;
        height: 100%;
        background: #5add36;
      }

      #video {
        margin-top: 20px
      }
    </style>

    <script type="text/javascript" src="js/jquery.min.js"></script>
		<script type="text/javascript" src="js/swfupload.js"></script>
		<script type="text/javascript" src="js/swfupload.swfobject.js"></script>
		<script type="text/javascript" src="js/fileprogress.js"></script>
		<script type="text/javascript" src="js/handlers.js"></script>
		<script type="text/javascript">
				var swfu;

				window.onload = function () {
					swfu = new SWFUpload({
						// Backend settings
						upload_url: "http://localhost:5678/videos.json",
						file_post_name: "file",
						post_params : {
							"upload_redirect_url" : "http://localhost:4567/videos/$id/done",
							"state_update_url" : "http://localhost:4567/videos/$id/update"
						},

						// Flash file settings
						file_size_limit : "100 MB",
						file_types : "*.*",			// or you could use something like: "*.doc;*.wpd;*.pdf",
						file_types_description : "All Files",
						file_upload_limit : "0",
						file_queue_limit : "1",

						// Event handler settings
						swfupload_loaded_handler : swfUploadLoaded,

						file_dialog_start_handler: fileDialogStart,
						file_queued_handler : fileQueued,
						file_queue_error_handler : fileQueueError,
						file_dialog_complete_handler : fileDialogComplete,

						//upload_start_handler : uploadStart,	// I could do some client/JavaScript validation here, but I don't need to.
						upload_progress_handler : uploadProgress,
						upload_error_handler : uploadError,
						upload_success_handler : uploadSuccess,
						upload_complete_handler : uploadComplete,

						// Button Settings
						button_image_url : "XPButtonUploadText_61x22.png",
						button_placeholder_id : "spanButtonPlaceholder",
						button_width: 61,
						button_height: 22,

						// Flash Settings
						flash_url : "/swfupload.swf",

						custom_settings : {
							progress_target : "fsUploadProgress",
							upload_successful : false
						},

						// Debug settings
						debug: false
					});

				};
			</script>

  </head>
  <body>
		<div id="content">
				<%= yield %>
		</div>
  </body>
</html>
